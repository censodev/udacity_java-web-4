<?xml version="1.0" encoding="UTF-8"?>
<configuration>
    <appender name="splunk_http" class="com.splunk.logging.HttpEventCollectorLogbackAppender">
        <url>http://localhost:8088</url>
        <token>18c482f2-f2c5-4fc0-9d04-baa2476dfc9d</token>
        <index>splunk_log</index>
        <source>splunk_test</source>
        <sourcetype>splunk_test</sourcetype>
        <disableCertificateValidation>true</disableCertificateValidation>
        <layout class="ch.qos.logback.classic.PatternLayout">
            <pattern>
                {
                "level": "%level",
                "thread": "%thread",
                "class": "%logger{40}",
                "message": "%msg"
                }
            </pattern>
        </layout>
    </appender>

    <logger name="splunk.logger" level="INFO">
        <appender-ref ref="splunk_http"/>
    </logger>

    <logger name="splunk.logger" level="ERROR">
        <appender-ref ref="splunk_http"/>
    </logger>

    <root level="INFO">
        <appender-ref ref="splunk_http"/>
    </root>

    <root level="ERROR">
        <appender-ref ref="splunk_http"/>
    </root>
</configuration>